"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[273],{161:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(43);const a=()=>{const{loading:e,request:t,error:s,clearError:a}=(()=>{const[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);return{loading:e,request:(0,r.useCallback)(async function(e){t(!0);try{const s=await fetch(e);if(!s.ok)throw new Error(`Could not fetch ${e}, status: ${s.status}`);const r=await s.json();return t(!1),r}catch(s){throw t(!1),a(s.message),s}},[]),error:s,clearError:(0,r.useCallback)(()=>a(null),[])}})(),c="https://marvel-server-zeta.vercel.app/",n="apikey=d4eecb0c66dedbfae4eab45d312fc1df",i=e=>{let t;return t="https://www.wallpaperflare.com/static/264/707/824/iron-man-the-avengers-robert-downey-junior-tony-wallpaper"===e.thumbnail.path?"https://i.pinimg.com/736x/d7/09/a0/d709a0e9416d99e7b1487b714f81d368.jpg":e.thumbnail.path+"."+e.thumbnail.extension,{id:e.id,name:e.name,description:e.description?`${e.description.slice(0,210)}...`:"there is no description for this character",thumbnail:t,homepage:e.urls[0].url,wiki:e.urls[1].url}},l=e=>{let{description:t,id:s,pageCount:r,prices:[{price:a}],thumbnail:{extension:c,path:n},textObjects:{languages:i},title:l}=e;return{description:t,id:s,pageCount:r,price:a,extension:c,languages:i,path:n,title:l}};return{loading:e,error:s,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await t(`${c}characters?limit=9&offset=${e}&${n}`)).data.results.map(i)},getCharacter:async e=>{const s=await t(`${c}characters?&${n}`).then(t=>t.data.results.filter(t=>t.id===e));return i(s[0])},clearError:a,getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await t(`${c}comics?limit=8&offset=${e}&${n}`)).data.results.map(l)},getComic:async e=>{const s=await t(`${c}comics?&${n}`).then(t=>t.data.results.filter(t=>t.id==e));return l(s[0])}}}},336:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var r=s(971),a=s(318),c=s(43),n=s(161),i=s(502),l=s(425),o=s(354),d=s(579);const m=e=>{let{comic:t}=e;const{title:s,path:r,extension:c,description:n,price:i,pageCount:l,languages:o}=t;return(0,d.jsxs)("div",{className:"single-comic",children:[(0,d.jsx)("img",{src:r+"."+c,alt:s,className:"single-comic__img"}),(0,d.jsxs)("div",{className:"single-comic__info",children:[(0,d.jsx)("h2",{className:"single-comic__name",children:s}),(0,d.jsx)("p",{className:"single-comic__descr",children:n}),(0,d.jsxs)("p",{className:"single-comic__descr",children:[l," pages"]}),(0,d.jsxs)("p",{className:"single-comic__descr",children:["Language: ",o]}),(0,d.jsxs)("div",{className:"single-comic__price",children:[i,"$"]})]}),(0,d.jsx)(a.N_,{to:"/comics",className:"single-comic__back",children:"Back to all"})]})},u=()=>{const{comicId:e}=(0,r.g)(),[t,s]=(0,c.useState)(null),{loading:a,error:u,getComic:p,clearError:h}=(0,n.A)();(0,c.useEffect)(()=>{g()},[e]);const g=()=>{e&&(h(),p(e).then(x))},x=e=>{s(e)},j=u?(0,d.jsx)(l.A,{}):null,f=a?(0,d.jsx)(i.A,{}):null,b=a||u||!t?null:(0,d.jsx)(m,{comic:t});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.A,{}),j,f,b]})};var p=s(569);const h=()=>(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(p.A,{children:(0,d.jsx)(u,{})})})},354:(e,t,s)=>{s.d(t,{A:()=>n});const r=s.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",a=s.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var c=s(579);const n=()=>(0,c.jsxs)("div",{className:"app__banner",children:[(0,c.jsx)("img",{src:r,alt:"Avengers"}),(0,c.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,c.jsx)("br",{}),"Stay tuned!"]}),(0,c.jsx)("img",{src:a,alt:"Avengers logo"})]})},425:(e,t,s)=>{s.d(t,{A:()=>c});const r=s.p+"static/media/error.42292aa12b6bc303ce99.gif";var a=s(579);const c=()=>(0,a.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},alt:"error",src:r})},569:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(43),a=s(425),c=s(579);class n extends r.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?(0,c.jsx)(a.A,{}):this.props.children}}const i=n}}]);
//# sourceMappingURL=273.736df01f.chunk.js.map