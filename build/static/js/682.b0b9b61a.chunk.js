"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[682],{161:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(43);const a=()=>{const{loading:e,request:t,error:s,clearError:a}=(()=>{const[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);return{loading:e,request:(0,r.useCallback)(async function(e){t(!0);try{const s=await fetch(e);if(!s.ok)throw new Error(`Could not fetch ${e}, status: ${s.status}`);const r=await s.json();return t(!1),r}catch(s){throw t(!1),a(s.message),s}},[]),error:s,clearError:(0,r.useCallback)(()=>a(null),[])}})(),i="https://marvel-server-zeta.vercel.app/",n="apikey=d4eecb0c66dedbfae4eab45d312fc1df",c=e=>{let t;return t="https://www.wallpaperflare.com/static/264/707/824/iron-man-the-avengers-robert-downey-junior-tony-wallpaper"===e.thumbnail.path?"https://i.pinimg.com/736x/d7/09/a0/d709a0e9416d99e7b1487b714f81d368.jpg":e.thumbnail.path+"."+e.thumbnail.extension,{id:e.id,name:e.name,description:e.description?`${e.description.slice(0,210)}...`:"there is no description for this character",thumbnail:t,homepage:e.urls[0].url,wiki:e.urls[1].url}},l=e=>{let{description:t,id:s,pageCount:r,prices:[{price:a}],thumbnail:{extension:i,path:n},textObjects:{languages:c},title:l}=e;return{description:t,id:s,pageCount:r,price:a,extension:i,languages:c,path:n,title:l}};return{loading:e,error:s,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await t(`${i}characters?limit=9&offset=${e}&${n}`)).data.results.map(c)},getCharacter:async e=>{const s=await t(`${i}characters?&${n}`).then(t=>t.data.results.filter(t=>t.id===e));return c(s[0])},clearError:a,getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await t(`${i}comics?limit=8&offset=${e}&${n}`)).data.results.map(l)},getComic:async e=>{const s=await t(`${i}comics?&${n}`).then(t=>t.data.results.filter(t=>t.id==e));return l(s[0])}}}},354:(e,t,s)=>{s.d(t,{A:()=>n});const r=s.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",a=s.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var i=s(579);const n=()=>(0,i.jsxs)("div",{className:"app__banner",children:[(0,i.jsx)("img",{src:r,alt:"Avengers"}),(0,i.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,i.jsx)("br",{}),"Stay tuned!"]}),(0,i.jsx)("img",{src:a,alt:"Avengers logo"})]})},425:(e,t,s)=>{s.d(t,{A:()=>i});const r=s.p+"static/media/error.42292aa12b6bc303ce99.gif";var a=s(579);const i=()=>(0,a.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},alt:"error",src:r})},569:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(43),a=s(425),i=s(579);class n extends r.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?(0,i.jsx)(a.A,{}):this.props.children}}const c=n},637:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var r=s(43),a=s(318),i=s(161),n=s(425),c=s(502),l=s(579);const o=()=>{const[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(-4),[m,h]=(0,r.useState)(!1),{getAllComics:p,error:g,loading:x}=(0,i.A)();(0,r.useEffect)(()=>{b()},[]);const b=e=>{o(!0),p(e).then(f)},f=s=>{let r=!1;0===s.length&&(r=!0);const a=s.filter(t=>!e.some(e=>e.id===t.id));t([...e,...a]),o(!1),u(e=>e+4),h(r)},j=(e=>{const t=e.map(e=>{let{title:t,path:s,extension:r,id:i,description:n,price:c}=e;return(0,l.jsx)("li",{className:"comics__item",children:(0,l.jsxs)(a.N_,{to:`/comics/${i}`,children:[(0,l.jsx)("img",{alt:t,src:s+"."+r,className:"comics__item-img"}),(0,l.jsx)("div",{className:"comics__item-name",children:n}),(0,l.jsxs)("div",{className:"comics__item-price",children:[c,"$"]})]})},i)});return(0,l.jsx)("ul",{className:"comics__grid",children:t})})(e),v=g?(0,l.jsx)(n.A,{}):null,_=x?(0,l.jsx)(c.A,{}):null;return(0,l.jsxs)("div",{className:"comics__list",children:[v,_,j,(0,l.jsx)("button",{className:"button button__main button__long",disabled:s,style:{display:m?"none":""},onClick:()=>b(d),children:(0,l.jsx)("div",{className:"inner",children:"load more"})})]})};var d=s(354),u=s(569);const m=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.A,{}),(0,l.jsx)(u.A,{children:(0,l.jsx)(o,{})})]})}}]);
//# sourceMappingURL=682.b0b9b61a.chunk.js.map