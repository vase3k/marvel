{"version":3,"file":"static/js/682.b0b9b61a.chunk.js","mappings":"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","sources":["hooks/http.hook.js","services/MarvelServices.js","components/appBanner/AppBanner.js","components/errorMessage/ErrorMessage.js","components/errorBoundary/ErrorBoundary.js","components/comicsList/ComicsList.js","components/pages/ComicsPage.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false),\r\n        [error, setError] = useState(null);\r\n\r\n    const request = useCallback(\r\n        async (\r\n            url,\r\n            method = 'GET',\r\n            body = null,\r\n            headers = { 'Content-Type': 'application/json' }\r\n        ) => {\r\n            setLoading(true);\r\n\r\n            try {\r\n                const response = await fetch(url);\r\n                if (!response.ok) {\r\n                    throw new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n                }\r\n                const data = await response.json();\r\n                setLoading(false);\r\n                return data;\r\n            } catch (e) {\r\n                setLoading(false);\r\n                setError(e.message);\r\n                throw e;\r\n            }\r\n        },\r\n        []\r\n    );\r\n\r\n    const clearError = useCallback(() => setError(null), []);\r\n\r\n    return {\r\n        loading,\r\n        request,\r\n        error,\r\n        clearError,\r\n    };\r\n};\r\n","import { useHttp } from '../hooks/http.hook';\r\n\r\nconst useMarvelService = () => {\r\n    const { loading, request, error, clearError } = useHttp();\r\n\r\n    const _apiBase = 'https://marvel-server-zeta.vercel.app/',\r\n        _apiKey = 'apikey=d4eecb0c66dedbfae4eab45d312fc1df',\r\n        _baseOffset = 0;\r\n\r\n    const getAllCharacters = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\r\n        return res.data.results.map(_transformCharacter);\r\n    };\r\n\r\n    const getAllComics = async (offset = _baseOffset) => {\r\n        const res = await request(`${_apiBase}comics?limit=8&offset=${offset}&${_apiKey}`);\r\n        return res.data.results.map(_transformComic);\r\n    };\r\n\r\n    const getCharacter = async id => {\r\n        const res = await request(`${_apiBase}characters?&${_apiKey}`).then(res =>\r\n            res.data.results.filter(item => item.id === id)\r\n        );\r\n        return _transformCharacter(res[0]);\r\n    };\r\n\r\n    const getComic = async id => {\r\n        const res = await request(`${_apiBase}comics?&${_apiKey}`).then(res =>\r\n            res.data.results.filter(item => item.id == id)\r\n        );\r\n        return _transformComic(res[0]);\r\n    };\r\n\r\n    const _transformCharacter = char => {\r\n        let thumbnail;\r\n        if (\r\n            char.thumbnail.path ===\r\n            'https://www.wallpaperflare.com/static/264/707/824/iron-man-the-avengers-robert-downey-junior-tony-wallpaper'\r\n        ) {\r\n            thumbnail = 'https://i.pinimg.com/736x/d7/09/a0/d709a0e9416d99e7b1487b714f81d368.jpg';\r\n        } else {\r\n            thumbnail = char.thumbnail.path + '.' + char.thumbnail.extension;\r\n        }\r\n\r\n        return {\r\n            id: char.id,\r\n            name: char.name,\r\n            description: char.description\r\n                ? `${char.description.slice(0, 210)}...`\r\n                : 'there is no description for this character',\r\n            thumbnail,\r\n            homepage: char.urls[0].url,\r\n            wiki: char.urls[1].url,\r\n        };\r\n    };\r\n\r\n    const _transformComic = ({\r\n        description,\r\n        id,\r\n        pageCount,\r\n        prices: [{ price }],\r\n        thumbnail: { extension, path },\r\n        textObjects: { languages },\r\n        title,\r\n    }) => {\r\n        return {\r\n            description,\r\n            id,\r\n            pageCount,\r\n            price,\r\n            extension,\r\n            languages,\r\n            path,\r\n            title,\r\n        };\r\n    };\r\n\r\n    return {\r\n        loading,\r\n        error,\r\n        getAllCharacters,\r\n        getCharacter,\r\n        clearError,\r\n        getAllComics,\r\n        getComic,\r\n    };\r\n};\r\n\r\nexport default useMarvelService;\r\n","import './appBanner.scss';\nimport avengers from '../../resources/img/Avengers.png';\nimport avengersLogo from '../../resources/img/Avengers_logo.png';\n\nconst AppBanner = () => {\n    return (\n        <div className=\"app__banner\">\n            <img src={avengers} alt=\"Avengers\"/>\n            <div className=\"app__banner-text\">\n                New comics every week!<br/>\n                Stay tuned!\n            </div>\n            <img src={avengersLogo} alt=\"Avengers logo\"/>\n        </div>\n    )\n}\n\nexport default AppBanner;","import error from './error.gif';\r\n\r\nconst ErrorMessage = () => {\r\n    return (\r\n        <img\r\n            style={{\r\n                display: 'block',\r\n                width: '250px',\r\n                height: '250px',\r\n                objectFit: 'contain',\r\n                margin: '0 auto',\r\n            }}\r\n            alt=\"error\"\r\n            src={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import { Component } from 'react';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\n\r\nclass ErrorBoundary extends Component {\r\n    state = {\r\n        error: false,\r\n    };\r\n\r\n    componentDidCatch() {\r\n        this.setState({\r\n            error: true,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <ErrorMessage />;\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './comicsList.scss';\nimport useMarvelService from '../../services/MarvelServices';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport Spinner from '../spinner/Spinner';\n\nconst ComicsList = () => {\n    const [comics, setComics] = useState([]),\n        [newComicLoading, setNewComicLoading] = useState(false),\n        [offset, setOffset] = useState(-4),\n        [comicEnded, setComicEnded] = useState(false);\n\n    const { getAllComics, error, loading } = useMarvelService();\n\n    useEffect(() => {\n        onRequest();\n    }, []);\n\n    const onRequest = offset => {\n        setNewComicLoading(true);\n        getAllComics(offset).then(onComicListLoaded);\n    };\n\n    const onComicListLoaded = newData => {\n        let ended = false;\n        if (newData.length === 0) {\n            ended = true;\n        }\n        const filteredNewData = newData.filter(\n            newItem => !comics.some(existingItem => existingItem.id === newItem.id)\n        );\n\n        setComics([...comics, ...filteredNewData]);\n        setNewComicLoading(false);\n        setOffset(offset => offset + 4);\n        setComicEnded(ended);\n    };\n\n    const renderItems = arr => {\n        const items = arr.map(({ title, path, extension, id, description, price }) => {\n            return (\n                <li className=\"comics__item\" key={id}>\n                    <Link to={`/comics/${id}`}>\n                        <img\n                            alt={title}\n                            src={path + '.' + extension}\n                            className=\"comics__item-img\"\n                        />\n                        <div className=\"comics__item-name\">{description}</div>\n                        <div className=\"comics__item-price\">{price}$</div>\n                    </Link>\n                </li>\n            );\n        });\n\n        return <ul className=\"comics__grid\">{items}</ul>;\n    };\n\n    const items = renderItems(comics);\n\n    const errorMessage = error ? <ErrorMessage /> : null;\n    const spinner = loading ? <Spinner /> : null;\n\n    return (\n        <div className=\"comics__list\">\n            {errorMessage}\n            {spinner}\n            {items}\n            <button\n                className=\"button button__main button__long\"\n                disabled={newComicLoading}\n                style={{ display: comicEnded ? 'none' : '' }}\n                onClick={() => onRequest(offset)}\n            >\n                <div className=\"inner\">load more</div>\n            </button>\n        </div>\n    );\n};\n\nexport default ComicsList;\n","import ComicsList from '../../components/comicsList/ComicsList';\r\nimport AppBanner from '../../components/appBanner/AppBanner';\r\nimport ErrorBoundary from '../errorBoundary/ErrorBoundary';\r\n\r\nconst ComicsPage = () => {\r\n    return (\r\n        <>\r\n            <AppBanner />\r\n            <ErrorBoundary>\r\n                <ComicsList />\r\n            </ErrorBoundary>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ComicsPage;\r\n"],"names":["useMarvelService","loading","request","error","clearError","useHttp","setLoading","useState","setError","useCallback","async","url","response","fetch","ok","Error","status","data","json","e","message","_apiBase","_apiKey","_transformCharacter","char","thumbnail","path","extension","id","name","description","slice","homepage","urls","wiki","_transformComic","_ref","pageCount","prices","price","textObjects","languages","title","getAllCharacters","offset","arguments","length","undefined","results","map","getCharacter","res","then","filter","item","getAllComics","getComic","AppBanner","_jsxs","className","children","_jsx","src","avengers","alt","avengersLogo","ErrorMessage","style","display","width","height","objectFit","margin","ErrorBoundary","Component","constructor","state","componentDidCatch","this","setState","render","props","ComicsList","comics","setComics","newComicLoading","setNewComicLoading","setOffset","comicEnded","setComicEnded","useEffect","onRequest","onComicListLoaded","newData","ended","filteredNewData","newItem","some","existingItem","items","arr","Link","to","renderItems","errorMessage","spinner","Spinner","disabled","onClick","ComicsPage","_Fragment"],"sourceRoot":""}